pipeline {
    agent any
    
    stages {
        stage('Checkout') {
            steps {
                // Checkout your source code from SCM if needed
                // Example for Git:
                checkout scm
            }
        }
        
        stage('Upload to Artifactory') {
            steps {
                script {
                    def server = Artifactory.server 'http://localhost:8082/artifactory'
                    def uploadSpec = """{
                        "files": [
                            {
                                "pattern": "results/report.html",
                                "target": "http://localhost:8082/ui/repos/tree/General/generic-local-project1/chrome"
                            }
                        ]
                    }"""
                    def buildInfo = server.upload spec: uploadSpec
                }
            }
        }
    }
}
